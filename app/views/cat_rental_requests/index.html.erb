<style>
table,
td {
    border: 1px solid #333;
}
thead,
tfoot {
    background-color: #333;
    color: #fff;
}
th.approved {
    background-color: green
}
th.pending {
    background-color: blue
}
th.denied {
    background-color: red
}
</style>


<h1><%= @currentCat.name %>'s Current Requests</h1>


<ul>
<%@currentCat.cat_rental_requests.each do |request|%>
<% if request.status == "Approved"%>
    <li> 
        <table>
            <thead>
                <tr>
                    <th class = "approved" colspan="2">Approved</th>
                </tr>
            </thead>
            <tbody> 
                <tr>
                    <td>Start Date:</td>
                    <td> <%= "#{request.start_date.to_formatted_s(:long_ordinal)}" %> </td>
                </tr>
            </tbody>
            <tbody> 
                <tr>
                    <td>End Date:</td>
                    <td> <%= "#{request.end_date.to_formatted_s(:long_ordinal)}" %> </td>
                </tr>
            </tbody>
            <tbody> 
                <tr>
                    <td>Status:</td>
                    <td> <%= "#{request.status}" %> </td>
                </tr>
            </tbody>
            <tbody> 
                <tr>
                    <td>Update:</td>
                    <td> <a href="/cats/<%=@currentCat.id%>/cat_rental_requests/<%=request.id%>">Go To Request</a></td>
                </tr>
            </tbody>
        </table>
        <br>
    </li>
<% end %>
<% end %>
</ul>

<ul>
<%@currentCat.cat_rental_requests.each do |request|%>
<% if request.status == "Pending"%>
    <li> 
        <table>
            <thead>
                <tr>
                    <th class = "pending" colspan="2">Pending</th>
                </tr>
            </thead>
            <tbody> 
                <tr>
                    <td>Start Date:</td>
                    <td> <%= "#{request.start_date.to_formatted_s(:long_ordinal)}" %> </td>
                </tr>
            </tbody>
            <tbody> 
                <tr>
                    <td>End Date:</td>
                    <td> <%= "#{request.end_date.to_formatted_s(:long_ordinal)}" %> </td>
                </tr>
            </tbody>
            <tbody> 
                <tr>
                    <td>Status:</td>
                    <td> <%= "#{request.status}" %> </td>
                </tr>
            </tbody>
            <tbody> 
                <tr>
                    <td>Update:</td>
                    <td> <a href="/cats/<%=@currentCat.id%>/cat_rental_requests/<%=request.id%>">Go To Request</a></td>
                </tr>
            </tbody>
        </table>
        <br>
    </li>
<% end %>
<% end %>
</ul>

<ul>
<%@currentCat.cat_rental_requests.each do |request|%>
<% if request.status == "Denied"%>
    <li> 
        <table>
            <thead>
                <tr>
                    <th colspan="2">Denied Requests</th>
                </tr>
            </thead>
            <tbody> 
                <tr>
                    <td>Start Date:</td>
                    <td> <%= "#{request.start_date.to_formatted_s(:long_ordinal)}" %> </td>
                </tr>
            </tbody>
            <tbody> 
                <tr>
                    <td>End Date:</td>
                    <td> <%= "#{request.end_date.to_formatted_s(:long_ordinal)}" %> </td>
                </tr>
            </tbody>
            <tbody> 
                <tr>
                    <td>Status:</td>
                    <td> <%= "#{request.status}" %> </td>
                </tr>
            </tbody>
            <tbody> 
                <tr>
                    <td>Update:</td>
                    <td> <a href="/cats/<%=@currentCat.id%>/cat_rental_requests/<%=request.id%>">Go To Request</a></td>
                </tr>
            </tbody>
        </table>
        <br>
    </li>
<% end %>
<% end %>
</ul>
<a href="/cats/<%=@currentCat.id%>">View Cat</a>
<br>
<a href="/cats/">Return to all Cats</a>